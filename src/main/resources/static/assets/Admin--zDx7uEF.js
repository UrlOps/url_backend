import{_ as g,r as l,o as k,a as i,u as h,c as p,b as a,d as y,w as t,V as b,e as u,f as w,g as x,h as f,i as C,j as A,k as c,l as B,m as z,n as I,p as L,q as _,s as S,t as T,v as q}from "./index-IqF9uRVT.js";const M={class:"admin-container"},N={key:0},U={__name:"Admin",setup($){const m=h(),v=l(!1),n=l(""),r=l(""),s=l(""),V=async()=>{try{const e=(await i.post("/api/admin/login",{username:n.value,password:r.value})).data.data.token;localStorage.setItem("token",e),i.defaults.headers.common.Authorization=`Bearer ${e}`,s.value="",m.push("/admin/dashboard")}catch(o){console.error("Login failed:",o),s.value="로그인에 실패했습니다. 아이디 또는 비밀번호를 확인해주세요."}};return k(()=>{const o=localStorage.getItem("token");o&&(i.defaults.headers.common.Authorization=`Bearer ${o}`,m.push("/admin/dashboard"))}),(o, e)=>(u(),p("div",M,[a(y,{class:"absolute top-0 left-0 w-full h-full z-0"}),a(b,{class:"fill-height relative z-10",fluid:""},{default:t(()=>[a(w,{align:"center",justify:"center"},{default:t(()=>[a(x,{cols:"12",sm:"8",md:"6",lg:"4"},{default:t(()=>[v.value?f("",!0):(u(),p("div",N,[a(C,{class:"login-card",elevation:"12"},{default:t(()=>[a(A,{class:"text-center text-h5 font-weight-bold py-4"},{default:t(()=>e[2]||(e[2]=[c(" Admin Login ",-1)])),_:1,__:[2]}),a(B,null,{default:t(()=>[a(z,{onSubmit:I(V,["prevent"])},{default:t(()=>[a(_,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]= d=>n.value=d),label:"Username","prepend-inner-icon":"mdi-account",variant:"outlined",required:"",class:"mb-4"},null,8,["modelValue"]),a(_,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]= d=>r.value=d),label:"Password",type:"password","prepend-inner-icon":"mdi-lock",variant:"outlined",required:""},null,8,["modelValue"]),s.value?(u(),L(S,{key:0,type:"error",density:"compact",class:"mt-4"},{default:t(()=>[c(T(s.value),1)]),_:1})):f("",!0),a(q,{type:"submit",color:"primary",block:"",size:"large",class:"mt-6"},{default:t(()=>e[3]||(e[3]=[c(" Login ",-1)])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1})]))}},F=g(U,[["__scopeId","data-v-9f91d71a"]]);export{F as default};
